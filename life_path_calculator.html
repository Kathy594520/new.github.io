<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>生命靈數計算與探索 - 星夜占卜</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            /* 深邃的星空背景 */
            background-color: #0f172a; /* Slate-900 */
            color: #f1f5f9; /* Slate-100 */
            /* subtle cosmic gradient */
            background-image: radial-gradient(at 0% 0%, #1e3a8a 0%, transparent 50%), 
                              radial-gradient(at 100% 100%, #4c1d95 0%, transparent 50%);
            background-blend-mode: multiply;
        }
        .card {
            background-color: #1e293b; /* Slate-800 - 星夜卡片 */
            box-shadow: 0 15px 30px rgba(76, 29, 149, 0.4); /* 神秘紫影 */
            border: 1px solid #4c1d95;
        }
        .btn-primary {
            /* 浪漫的玫瑰金色 */
            background-color: #f472b6; /* Pink-400 */
            color: #1e293b; 
            font-weight: 700;
            transition: background-color 0.3s, transform 0.1s;
        }
        .btn-primary:hover {
            background-color: #ec4899; /* Pink-500 */
            transform: translateY(-1px);
        }
        input {
            background-color: #334155 !important; /* Slate-700 for input */
            color: #f1f5f9 !important;
            border-color: #4c1d95 !important;
        }
        input:focus {
             border-color: #a78bfa !important; /* Violet-400 focus */
             box-shadow: 0 0 0 2px #a78bfa !important;
        }
        .num-btn {
            transition: transform 0.1s, box-shadow 0.2s;
        }
        .num-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 10px rgba(244, 114, 182, 0.5);
        }
        .active-num {
            /* 魔法光暈 */
            background-color: #a78bfa !important; /* Violet-400 */
            border-color: #7c3aed !important; /* Violet-600 */
            color: white !important;
            font-weight: 700;
            box-shadow: 0 0 15px rgba(167, 139, 250, 0.8);
        }
        .border-l-4-analysis {
            /* 確保分析區塊的邊框色有正確的對比度 */
            border-left-width: 4px;
        }
    </style>
</head>
<body class="p-4 md:p-8">

    <div class="max-w-4xl mx-auto p-6 md:p-10 rounded-xl card">
        <h1 class="text-3xl font-bold text-center mb-6 border-b border-purple-500 pb-2 text-pink-300">
            🌌 星夜占卜：生命靈數互動探索 🔮
        </h1>
        <!-- 設計者署名 -->
        <p class="text-center text-sm mb-8 text-violet-400/80">
            [設計者: 仙姑凱西]
        </p>
        
        <!-- 輸入區塊 -->
        <div class="mb-8 p-4 bg-slate-700/50 rounded-lg border border-slate-600">
            <h2 class="text-xl font-semibold mb-4 text-violet-300">💫 請輸入您的誕生密碼</h2>
            <div class="grid grid-cols-3 gap-4">
                <input type="number" id="inputYear" placeholder="年份 (e.g., 1990)" min="1900" max="2100" class="p-3 border-2 rounded-lg transition duration-150" aria-label="年份">
                <input type="number" id="inputMonth" placeholder="月份 (e.g., 5)" min="1" max="12" class="p-3 border-2 rounded-lg transition duration-150" aria-label="月份">
                <input type="number" id="inputDay" placeholder="日期 (e.g., 21)" min="1" max="31" class="p-3 border-2 rounded-lg transition duration-150" aria-label="日期">
            </div>
            <button id="calculateButton" class="w-full mt-5 p-3 rounded-lg btn-primary text-slate-900 text-lg">
                ✨ 啟動我的生命靈數計算 ✨
            </button>
            <p id="error-message" class="text-rose-400 mt-2 text-sm hidden">請輸入有效的年月日。</p>
        </div>

        <!-- 結果與分析顯示區塊 -->
        <div id="resultContainer" class="hidden">
            
            <div class="text-center mb-8">
                <p class="text-xl text-slate-300 mb-2">🔢 您的命運數字是：</p>
                <div class="inline-block px-8 py-4 bg-slate-900/50 border-4 rounded-full shadow-2xl">
                    <span id="result-emoji" class="text-6xl mr-3 align-middle" role="img" aria-label="Emoji"></span> 
                    <span id="result-number" class="text-6xl font-extrabold text-pink-300 drop-shadow-lg align-middle"></span>
                </div>
            </div>

            <!-- 分析內容 -->
            <div id="analysis-content" class="space-y-6">
                
                <div id="traits-box" class="p-5 border-l-4-analysis bg-slate-700/30 rounded-lg">
                    <h3 class="text-2xl font-bold mb-3 flex items-center text-pink-400">
                        <span class="mr-3">🧬</span> <span id="traits-title"></span> 的星辰特質：
                    </h3>
                    <p id="traits-text" class="text-slate-200 leading-relaxed"></p>
                </div>

                <div id="daily-box" class="p-5 border-l-4-analysis bg-slate-700/30 rounded-lg">
                    <h3 class="text-2xl font-bold mb-3 flex items-center text-sky-400">
                        <span class="mr-3">🌟</span> 今日宇宙訊息 (運勢建議) <span class="text-sm text-sky-200/70 ml-2">(每日不重複更新)</span>：
                    </h3>
                    <p id="daily-advice-text" class="text-slate-200 leading-relaxed"></p>
                </div>

                <div id="action-box" class="p-5 border-l-4-analysis bg-slate-700/30 rounded-lg">
                    <h3 class="text-2xl font-bold mb-3 flex items-center text-amber-400">
                        <span class="mr-3">💡</span> 🌙 冥想與行動建議 <span class="text-sm text-amber-200/70 ml-2">(每日不重複更新)</span>：
                    </h3>
                    <p id="action-advice-text" class="text-slate-200 leading-relaxed"></p>
                </div>
            </div>

            <!-- 數字導航區塊 -->
            <div class="mt-10 pt-6 border-t border-purple-800">
                <p class="text-lg font-semibold text-center mb-4 text-violet-300">探索其他星宿的奧秘：</p>
                <div id="number-buttons" class="grid grid-cols-3 sm:grid-cols-9 gap-2">
                    <!-- Buttons 1-9 generated by JS -->
                </div>
            </div>

        </div>
    </div>

    <script>
        // --- 每日不重複選擇邏輯 (基於月份日期) ---

        /**
         * 根據當前月份的日期來選擇一個固定的、月內不重複的項目。
         * @param {number} number - 生命靈數 (1-9)。
         * @param {Array<string>} adviceArray - 建議的陣列 (需至少 30 條)。
         * @returns {string} 當月當日固定的建議。
         */
        function getDailyAdvice(number, adviceArray) {
            if (!adviceArray || adviceArray.length === 0) return "今日無特殊建議。";

            const today = new Date();
            // 取得當月日期 (1 - 31)
            const dayOfMonth = today.getDate(); 
            
            // 確保索引在 0 到 array.length - 1 之間循環
            // 例如：陣列長度 32。1 號 -> 索引 0；32 號 -> 索引 31 (從下個月 1 號開始重複)
            const index = (dayOfMonth - 1) % adviceArray.length;

            return adviceArray[index];
        }

        // --- 核心計算邏輯 ---

        function calculateLifePathNumber(dateString) {
            let sum = 0;
            for (let i = 0; i < dateString.length; i++) {
                if (dateString[i] >= '0' && dateString[i] <= '9') {
                    sum += parseInt(dateString[i], 10);
                }
            }
            
            while (sum > 9) {
                let tempSum = 0;
                let sumString = sum.toString();
                for (let i = 0; i < sumString.length; i++) {
                    tempSum += parseInt(sumString[i], 10);
                }
                sum = tempSum;
            }
            
            return sum === 0 ? 0 : sum; 
        }

        // --- 生命靈數資料庫 (運勢與行動建議已擴充至 32 條以上) ---

        const NumerologyData = {
            1: {
                title: "創始之星 (The Initiator)",
                emoji: "🔥",
                traits: "獨立、自信、目標明確的**領導者**，但也易顯得自我。最適合開創。",
                color: "rose",
                dailyAdvice: [
                    "勇敢踏出第一步，主動爭取機會。今天專注於個人成就。", // 1
                    "展現你的領導力，不畏懼做決策。適合啟動新項目。",
                    "信任你的直覺和決心，獨立完成任務會帶來驚喜。",
                    "專注於你的個人品牌和獨立精神，今天適合個人突破。",
                    "你的能量是點燃新開始的火花。別等待，去創造！",
                    "保持自信，即使面對挑戰也要堅定立場。",
                    "適合簽署合同或提出新的商業計畫，大膽表現自我。",
                    "運用你的創新思維，解決一個長期困擾你的問題。",
                    "穿上你最能體現自信的服裝，迎接今日的挑戰。",
                    "單獨完成一項任務，感受獨立自主帶來的成就感。", // 10
                    "提醒自己：你是自己命運的主宰者，採取主動。",
                    "避免陷入無謂的爭辯，將精力集中在實際行動上。",
                    "今天適合制定一個月度目標，並為此列出詳細步驟。",
                    "不要害怕孤單，有時候獨立思考能帶來最佳決策。",
                    "展現你的原創性，拒絕跟隨大眾的意見。",
                    "適合進行體能訓練或挑戰自我極限的活動。",
                    "今天是展現個人魅力的好時機，勇敢地表達見解。",
                    "如果你有創新的想法，今天就是讓它發光發熱的日子。",
                    "避免拖延，用最快的速度解決待辦清單上的第一項任務。",
                    "給自己一個慶祝小成就的儀式，增強自我肯定。", // 20
                    "你的積極心態將吸引成功，保持專注與熱情。",
                    "挑戰自己去嘗試一件過去從未敢做的事情。",
                    "為團隊帶來清晰的方向和啟發性的目標。",
                    "記住：你是先驅者，而不是追隨者。",
                    "今天，你的果斷將是打開機會之門的鑰匙。",
                    "主動尋求並接受一個新的、具有挑戰性的責任。",
                    "練習在沒有他人認可的情況下，相信自己的判斷。",
                    "利用早上第一個小時，專注於最重要的目標。",
                    "今天是超越自我設限的理想時機。",
                    "用積極的自我對話來強化內心的力量。", // 30
                    "設定一個遠大的目標，並立即邁出第一小步。",
                    "將你的熱情投入到一個能讓你成為領導者的領域。",
                ],
                actionAdvice: [
                    "為一個被延宕的夢想專案制定一個三步驟的行動計畫。", // 1
                    "給自己設定一個有挑戰性的目標，並專注完成它。",
                    "練習以簡潔、有力的方式表達你的核心觀點。",
                    "找出一個你可以獨立完成，無需他人協助的任務來證明自我價值。",
                    "在鏡子前練習強而有力的演講或自我介紹。",
                    "開始學習一項新的技能，例如編程或攝影。",
                    "在工作或社交場合中，主動承擔領導角色。",
                    "寫下三個你最引以為傲的成就，並回顧它們。",
                    "為未來三個月的財務獨立制定一個具體方案。",
                    "穿著亮色系的服裝，增強個人存在感。", // 10
                    "練習說『不』，保護自己的時間和精力。",
                    "進行一次單人旅行或獨自用餐，享受獨立。",
                    "記錄你今天採取主動的五個時刻。",
                    "將一個複雜任務拆解成三個簡單的子目標。",
                    "制定一個嚴格的自我成長時間表並遵守。",
                    "參與一個需要快速決策和反應的遊戲或活動。",
                    "挑戰一位權威人士的觀點，但要提出建設性論據。",
                    "為你的個人願景創建一個視覺板。",
                    "學習如何更有效地談判和爭取權益。",
                    "購買一件能提醒你力量和決心的物品。", // 20
                    "練習在壓力下保持平靜，不展現急躁。",
                    "花 15 分鐘思考你下一步的事業方向。",
                    "向一位你欣賞的導師尋求關於領導力的建議。",
                    "將你今天最困難的任務優先解決。",
                    "為你的主要目標繪製一張簡單的心智圖。",
                    "有意識地避開那些消極或依賴性強的人。",
                    "撰寫一份個人宣言，強調你的核心價值。",
                    "嘗試在健身房舉起比平常更重的重量。",
                    "向一個你佩服的人發出合作邀請。",
                    "用一小時來構思一個全新的創業點子。", // 30
                    "練習在團隊討論中，第一個提出解決方案。",
                    "記錄你今天的成功與失敗，並從中汲取教訓。",
                ]
            },
            2: {
                title: "和諧之月 (The Mediator)",
                emoji: "🌊",
                traits: "敏感、合作、和平。擅長細節，易猶豫或過度妥協。",
                color: "sky",
                dailyAdvice: [
                    "聆聽直覺，溫和協調關係。今天適合團隊合作。", // 1
                    "運用你的同理心和耐心，解決潛在的衝突。",
                    "放慢腳步，享受當下，在細節中尋求完美。",
                    "信任夥伴，將注意力放在建立和諧的氛圍上。",
                    "今天你的敏感度是超能力，用它去理解他人未說出口的需求。",
                    "適合擔任調解者，促進團隊或家庭的和睦。",
                    "多花時間在藝術、音樂或任何能滋養心靈的活動上。",
                    "避免倉促做決定，諮詢夥伴的意見會帶來更好的結果。",
                    "尋求平衡，特別是在工作與休息之間。",
                    "在溝通中保持溫柔而堅定的態度，避免過度犧牲。", // 10
                    "今天適合進行一次深度的一對一對話，加強情感連結。",
                    "專注於細節，你對品質的堅持將被看到。",
                    "你的耐心將是解決複雜問題的關鍵。",
                    "今天適合整理文書工作或進行細膩的手工藝。",
                    "避免讓別人的情緒過度影響你，保持情緒界線。",
                    "尋找身邊能讓你感到安心和舒適的環境。",
                    "練習在群體中表達自我，但保持外交手腕。",
                    "適合與伴侶或親密朋友進行一次心靈交流。",
                    "你的直覺非常準確，請相信內心的聲音。",
                    "在給予他人幫助前，確保自己的能量儲備充足。", // 20
                    "用溫和的方式提醒他人注意細節和禮貌。",
                    "今天你的協調能力能讓看似不可能的合作變成現實。",
                    "給予自己足夠的時間來適應環境變化。",
                    "透過寫作或日記整理複雜的情緒和思緒。",
                    "放下一項不重要的爭執，選擇和平。",
                    "今天適合擔任聆聽者，給予他人無評判的支持。",
                    "避免急於求成，緩慢而穩定的進展最適合你。",
                    "用藍色或銀色的物品來平衡你的情緒和能量。",
                    "你適合擔任幕後推手，而非舞台中央的主角。",
                    "為你的生活空間添加綠色植物，增添生機。", // 30
                    "今天適合與一位新認識的人建立友誼。",
                    "在團隊中，主動提供建設性的回饋意見。",
                ],
                actionAdvice: [
                    "練習溫和地表達需求，修復一段關係。", // 1
                    "找一個安靜的時刻冥想五分鐘，以平靜心緒。",
                    "給予身邊的人一個溫暖的肯定或讚美。",
                    "今天的工作重點應放在與人交流和溝通的品質上。",
                    "參與一個需要團隊合作的休閒活動，如桌遊。",
                    "練習在爭論中保持中立，聆聽雙方的觀點。",
                    "美化你的辦公桌或臥室，以提升和諧感。",
                    "有意識地去避免與人發生不必要的衝突。",
                    "購買一套新的精緻文具來鼓勵你專注於細節。",
                    "花時間與一位你長期忽視的朋友聯繫。", // 10
                    "在日常生活中，尋找一項可以與他人合作完成的任務。",
                    "練習專注於你當下正在進行的活動，減少分心。",
                    "給予自己一個完全放鬆、不做任何決定的下午。",
                    "寫下一封感謝信，感謝某人提供的支持。",
                    "嘗試做一個溫和的瑜伽或伸展運動。",
                    "在公共場合練習觀察，而非主導談話。",
                    "為你的伴侶或家人準備一道驚喜的甜點。",
                    "記錄你今天從他人情緒中學到的三件事。",
                    "學習或練習一種能讓你感到平靜的樂器。",
                    "練習在一個團體中提出一個『我們』開頭的建議。", // 20
                    "用一首歌或一幅畫來表達你內心難以言喻的情緒。",
                    "花 10 分鐘整理你最混亂的抽屜或文件夾。",
                    "避免對他人的決定做出快速判斷或批評。",
                    "為自己創造一個寧靜的、不受打擾的閱讀空間。",
                    "練習在他人尋求幫助時，先問『我能為你做什麼？』",
                    "在需要做選擇時，列出所有選項的優點和缺點。",
                    "與一位與你興趣完全不同的人進行一次交流。",
                    "為一個需要細緻規劃的專案做準備工作。",
                    "穿著柔軟舒適的衣物，增加你的安全感。",
                    "今天，特別留意你對他人的態度是否足夠溫和。", // 30
                    "在日常生活中，為自己製造一個舒適的儀式。",
                    "練習說『謝謝』，讓感激之情流動。",
                ]
            },
            3: {
                title: "歡樂之光 (The Communicator)",
                emoji: "💖",
                traits: "樂觀、社交、創意。表達力強，但易分心流於膚淺。",
                color: "pink",
                dailyAdvice: [
                    "展現你的才華和幽默感，分享快樂。創意能帶來好運。", // 1
                    "今天是社交的絕佳時機，大方地表達你的想法。",
                    "將焦點放在你的熱情上，你會吸引到正向的人事物。",
                    "允許自己展現光芒，你的樂觀是今日的幸運符。",
                    "用你獨特的視角來講述一個故事，啟發他人。",
                    "避免承諾過多，確保你的創意能有足夠的精力完成。",
                    "參加一個社交聚會或線上活動，擴大你的圈子。",
                    "今天非常適合進行寫作、繪畫或任何形式的自我表達。",
                    "讓你的內在小孩出來玩耍，接受生活的趣味性。",
                    "適合開始學習一門新的語言或樂器。", // 10
                    "你的積極能量具有傳染力，多與人分享你的好心情。",
                    "避免過度批評自己或他人，保持寬容心態。",
                    "用色彩或音樂來豐富你的生活空間和心情。",
                    "今天提出的創意提案將會獲得高度關注。",
                    "嘗試用新的方式表達感謝或愛意，增加生活情趣。",
                    "把你的幽默感當作橋樑，化解緊張的氣氛。",
                    "適合進行公眾演講或在社交媒體上分享你的觀點。",
                    "不要害怕被關注，你的光芒值得被世界看到。",
                    "將注意力從煩惱轉移到你正在享受的事情上。",
                    "與朋友來一場頭腦風暴，激發彼此的創意。", // 20
                    "給予自己放縱的快樂，例如看一部喜劇或吃美食。",
                    "今天，你的話語將充滿魔力，小心你說出的每個字。",
                    "適合購買或創作能讓心情愉悅的小禮物。",
                    "運用你的天賦，為一個舊專案注入新的活力和風格。",
                    "今天是尋求快樂和娛樂的完美一天。",
                    "找一個機會讓你的笑聲成為全場最響亮的聲音。",
                    "避免將能量浪費在瑣碎或無意義的細節上。",
                    "用粉紅色或金色的飾品來提升你的社交運。",
                    "適合與許久未見的朋友進行一次充滿笑聲的聚會。",
                    "將你的正面能量轉化為具體的藝術作品。", // 30
                    "今天，你的表達能力無人能敵，大膽地去說服他人。",
                    "給予自己休息和玩樂的時間，這也是一種創造力。",
                ],
                actionAdvice: [
                    "進行藝術創作或寫作，與朋友分享你的想法。", // 1
                    "與三位朋友聯絡，分享一個有趣的經歷或笑話。",
                    "練習在表達時，同時保持專注，避免思緒跳躍過快。",
                    "給自己一個短暫的舞台，可以是唱歌、演講或任何表演。",
                    "開始在一個視覺日記或草稿本上記錄你的想法。",
                    "嘗試烹飪或烘焙一道充滿創意的菜餚。",
                    "學習如何更有效地管理時間，避免分心。",
                    "找到一個能讓你真正開懷大笑的理由。",
                    "參加一個即興表演或寫作工作坊。",
                    "將一個複雜的論點用三個簡單的詞語來概括。", // 10
                    "花 30 分鐘進行一場無目的的塗鴉或素描。",
                    "練習在發言前，先在心中組織你的三個重點。",
                    "為你的臥室或辦公室添加一抹鮮豔的色彩。",
                    "規劃一場主題派對或聚會，展現你的組織力。",
                    "在社交媒體上分享一個能激勵人心的故事。",
                    "學習一項能讓你成為聚會焦點的魔術或技能。",
                    "避免與那些總是抱怨或散播負面情緒的人相處。",
                    "寫一首關於你今天心情的短詩。",
                    "用一分鐘的時間，為自己設計一套獨特的個人標誌。",
                    "練習在發言結束後，給予聽眾一個溫暖的回應。", // 20
                    "嘗試用肢體語言來表達你的一個核心想法。",
                    "給自己購買一件讓你感到充滿活力的飾品。",
                    "閱讀一本充滿幽默感的書籍或漫畫。",
                    "練習一次沒有事先準備的即興演講。",
                    "在你的日常溝通中，有意識地使用更豐富的形容詞。",
                    "嘗試為你的一個朋友畫一張Q版的肖像。",
                    "將你的創意精力導向一個具有長期效益的目標。",
                    "今天，主動提出一個能讓環境變得更有趣的建議。",
                    "參加一個你完全不熟悉的興趣小組。",
                    "用一條幽默的短信來化解尷尬的場面。", // 30
                    "為你今天的成功設立一個『歡樂之舞』的儀式。",
                    "練習接受他人的讚美，並誠摯地回應『謝謝』。",
                ]
            },
            4: {
                title: "堅石之基 (The Builder)",
                emoji: "🛡️",
                traits: "務實、紀律、可靠。追求**穩定**，但有時過於固執。",
                color: "indigo",
                dailyAdvice: [
                    "專注於細節和組織。為未來打下穩固基礎。", // 1
                    "執行需要耐心和紀律的工作，你的勤奮會獲得回報。",
                    "檢查你的安全感和財務狀況，務實規劃。",
                    "避免抄捷徑，按部就班是今天的成功關鍵。",
                    "今天適合完成需要高度準確性的任務，你的細心無懈可擊。",
                    "建立一個清晰的日程表並嚴格遵守它。",
                    "適合處理投資或不動產相關的事宜。",
                    "避免過度僵化，記得在結構中保留一些彈性。",
                    "專注於你的健康和體能，紀律性的鍛鍊將大有裨益。",
                    "你的可靠性將為你贏得重要的信任和資源。", // 10
                    "今天適合進行大掃除或系統性的整理工作。",
                    "避免因擔心失敗而拖延，相信你的紮實準備。",
                    "用事實和邏輯說服他人，而非情緒。",
                    "制定一個長期儲蓄計畫並開始執行。",
                    "學習或修復任何需要技術和手工的技能。",
                    "今天是建立人脈基礎，與可靠夥伴合作的好日子。",
                    "提醒自己：穩定比快速成功更重要。",
                    "避免過度工作而忽略身體的需求，保持平衡。",
                    "在計畫中加入冗餘和備份，以應對突發狀況。",
                    "適合購買耐用且實用的物品，重視品質而非外觀。", // 20
                    "你的堅持會創造價值，不要輕易放棄。",
                    "今天適合將一個抽象的概念轉化為具體的步驟。",
                    "在做任何改變前，請先仔細評估風險。",
                    "你的努力將像磐石一樣堅固，基礎穩固，無懼風雨。",
                    "適合檢查你的保險和合約，確保萬無一失。",
                    "用黑色或深棕色的飾品來增強你的專業感。",
                    "今天，你的組織能力將幫助你克服混亂局面。",
                    "避免陷入理論探討，將重點放在實際可行性。",
                    "適合進行一次有條不紊的檔案整理。",
                    "找到一個你可以長期投入並建立專業知識的領域。", // 30
                    "用你的務實精神來指導身邊一位過於理想化的朋友。",
                    "今天適合專注於長期投資而非快速投機。",
                ],
                actionAdvice: [
                    "整理環境，制定一個月度目標並嚴格執行紀律。", // 1
                    "為你的長期計畫建立一個詳細的步驟清單。",
                    "學習或複習一項能提升你專業技能的實用技術。",
                    "完成一個需要細心和重複檢查的任務。",
                    "練習在壓力下保持冷靜和客觀，依靠事實。",
                    "開始或堅持一個每日例行公事，以建立穩定感。",
                    "為你的財務狀況進行一次全面的審計和預算。",
                    "嘗試親手製作或修復一件實用的東西。",
                    "花 30 分鐘學習如何使用一個新的工作軟體。",
                    "將一個大型目標分解成至少十個微小的步驟。", // 10
                    "在一個安靜的空間，專注於解決一個邏輯難題。",
                    "撰寫一份詳細的風險評估報告。",
                    "與一位工程師或會計師進行一次專業交流。",
                    "為你的下一步重大購買建立一個詳細的預算表。",
                    "練習每天固定時間停止工作，以確保休息時間。",
                    "整理你的書架或工具箱，讓一切井然有序。",
                    "避免對不符合邏輯的事情做出妥協。",
                    "給自己設定一個體能目標，並追蹤進度。",
                    "寫下三個你認為你的生活中最穩定的元素。",
                    "練習將你的情緒與你的工作決策分開。", // 20
                    "為一個潛在的危機制定一個應急方案。",
                    "檢查你電腦的備份系統是否正常運作。",
                    "與你的家人或室友制定一份清晰的家務分工表。",
                    "學習如何有效地使用試算表進行數據分析。",
                    "給予自己一筆小額獎勵，以肯定你的紀律性。",
                    "尋找能提供結構化學習的課程或書籍。",
                    "在做承諾前，先計算實現它所需的所有資源。",
                    "今天，將你的時間分配以 30 分鐘為單位進行管理。",
                    "修復家裡一個損壞已久的小物件。",
                    "與你的財務顧問進行一次長期的諮詢。", // 30
                    "為一個需要長期儲存的物品找到最好的收納方法。",
                    "練習在爭論中，只陳述可以驗證的事實。",
                ]
            },
            5: {
                title: "變革之風 (The Free Spirit)",
                emoji: "⚡",
                traits: "自由、好奇、愛冒險。適應力強，但易**逃避承諾**。",
                color: "violet",
                dailyAdvice: [
                    "擁抱改變，嘗試新事物！記得平衡自由與專注。", // 1
                    "今天適合探索未知領域，新的機會可能隱藏在不經意間。",
                    "運用你的適應力，靈活應對計畫外的狀況。",
                    "尋求多樣性，避免被常規束縛，但要記得保持界線。",
                    "今天你的關鍵詞是『體驗』，多去感受生活中的新奇。",
                    "適合進行短途旅行或參與讓你感到興奮的活動。",
                    "避免過度沉溺於一種狀態，保持輕盈和流動性。",
                    "你的溝通能力強，適合進行公關或行銷活動。",
                    "今天適合挑戰舊有的觀念，接受不同的思維模式。",
                    "釋放你內心的冒險家，嘗試未曾嘗試的運動或嗜好。", // 10
                    "提醒自己：自由也意味著對選擇負責。",
                    "適合學習關於技術、媒體或網路的新知識。",
                    "用幽默感來應對生活中的小插曲，保持輕鬆。",
                    "避免不必要的八卦或傳播未經證實的消息。",
                    "打破一項日常慣例，為生活帶來一點驚喜。",
                    "適合購買新潮的電子產品或嘗試時尚的穿搭。",
                    "你的好奇心是你的嚮導，跟隨它去發現新知識。",
                    "如果你感到無聊，那代表你需要立即做出改變。",
                    "避免逃避需要承擔責任的任務，勇敢面對。",
                    "今天的幸運在於你敢於說『是』的那個決定。", // 20
                    "尋求感官的刺激，如美食、香氛或美景。",
                    "適合將多種不同的興趣結合起來，創造新火花。",
                    "避免在金錢上過於衝動，需理性消費。",
                    "將變革的能量注入你的工作，挑戰既有流程。",
                    "今天適合擔任情報收集者，多方吸收新資訊。",
                    "用你的機智和魅力來化解複雜的人際關係。",
                    "避免對任何單一觀點過於執著，保持開放性。",
                    "適合進行街頭攝影或隨機的城市探索。",
                    "你的多才多藝將在今天找到一個展現的平台。",
                    "尋找能讓你感到腎上腺素飆升的健康活動。", // 30
                    "將你的能量分散在幾個有趣的領域，而非單點突破。",
                    "今天，你的適應力將幫助你在混亂中找到方向。",
                ],
                actionAdvice: [
                    "走出舒適圈，嘗試一種新食物或規劃即興活動。", // 1
                    "找一個方法，讓自由與紀律在你的日常生活中並存。",
                    "閱讀一個與你信念完全不同的主題或書籍。",
                    "練習對重要承諾保持專注，避免因好奇心而分心。",
                    "刪除手機中不常用的應用程式，體驗數碼排毒。",
                    "規劃一場說走就走的微型冒險。",
                    "將你的知識傳授給他人，享受教學的樂趣。",
                    "學習一種新的快速記憶或學習方法。",
                    "嘗試一天不看新聞或社交媒體，專注於當下。",
                    "為自己設定一個短期的、可快速實現的挑戰。", // 10
                    "練習每天只做一項即興決定，其他保持計畫。",
                    "與一位來自不同文化背景的人進行深度交流。",
                    "嘗試一種你從未穿過的服裝風格。",
                    "將你今天學到的新知識記錄在筆記本上。",
                    "避免在一天內安排超過三個固定行程。",
                    "為一個需要創意和變化的專案提出五個替代方案。",
                    "學習一些旅行必備的簡單外語單字。",
                    "練習在說話時，避免使用絕對性的詞語。",
                    "將你所有的興趣點寫下來，並嘗試為它們找到一個聯繫點。",
                    "給自己一個小時的『無結構時間』，讓自己隨心所欲。", // 20
                    "挑戰自己，在沒有地圖的情況下探索一個新區域。",
                    "學習一種新的網路工具或應用程式。",
                    "練習在討論時，隨時準備改變你的立場。",
                    "嘗試撰寫一篇關於未來趨勢的短文。",
                    "參與一場需要快速反應和機智的辯論。",
                    "為一個固定的日常活動設計三個不同的執行方式。",
                    "將你的午餐地點換到一個全新的環境。",
                    "在你的工作中，主動提出一個顛覆性的變革建議。",
                    "進行一次與五感相關的體驗（如品酒、聞香）。",
                    "練習在被質疑時，保持輕鬆和開放的心態。", // 30
                    "設定一個週末目標：學習一項新技能的基礎。",
                    "購買一張前往未曾去過的城市或地區的車票。",
                ]
            },
            6: {
                title: "慈愛之環 (The Nurturer)",
                emoji: "🌱",
                traits: "責任感、同情心、服務導向。易操心或**過度介入**。",
                color: "fuchsia",
                dailyAdvice: [
                    "將關懷具體化。今天適合照顧自己與家人。", // 1
                    "你的愛意是治癒的力量，特別適合修復關係。",
                    "美化你的居家環境，讓愛與和諧充滿你的空間。",
                    "今天是負責且有義務的一天，展現你的奉獻精神。",
                    "適合花時間在家庭和社區服務上，你的付出會被看見。",
                    "避免過度承擔他人的問題，劃清健康的界線。",
                    "運用你的審美觀，為環境帶來美麗與平衡。",
                    "今天適合處理需要法律或道德考量的問題。",
                    "給予寵物或植物特別的照顧和關懷。",
                    "提醒自己：先照顧好自己，才能更好地幫助別人。", // 10
                    "適合進行裝修、園藝或任何能改善生活品質的活動。",
                    "避免因完美主義而感到壓力過大。",
                    "用實際行動來表達對伴侶和家人的承諾。",
                    "你的同情心是今天的指引星，用它來幫助弱小。",
                    "今天適合與年長者或孩子進行親密的交流。",
                    "在團隊中，擔任那個提供情感支持和穩定的角色。",
                    "適合進行需要耐心和細心的教學或指導。",
                    "避免犧牲自己的需求去滿足所有人的期望。",
                    "你的責任感將帶來信任和安全感。",
                    "今天適合為未來的家庭生活做長遠規劃。", // 20
                    "原諒那些讓你感到失望的人，釋放內心的負擔。",
                    "你的美學天賦將在今天大放異彩，美化你的工作。",
                    "尋找身邊需要幫助但不敢開口的人。",
                    "花時間回顧你的價值觀，確保你的行動與之保持一致。",
                    "適合擔任家族或團體的財產或資源管理者。",
                    "用粉色、綠色或藍色的飾品來平衡你的愛心能量。",
                    "今天你的判斷力在道德和倫理問題上非常清晰。",
                    "避免與那些不尊重你付出的人過多糾纏。",
                    "適合將你的愛意轉化為具體的服務或禮物。",
                    "今天適合處理任何與藝術、設計或美相關的事宜。", // 30
                    "你的溫暖將吸引那些需要療癒和關懷的人靠近。",
                    "提醒自己：你不需要完美才能被愛和接受。",
                ],
                actionAdvice: [
                    "為關心的人做一件貼心事，練習平衡付出與接收。", // 1
                    "花時間與家人或伴侶深度交流，表達感謝。",
                    "在你的環境中，選擇一個角落進行美化或裝飾。",
                    "承擔一份自願性的責任，給予他人無私的幫助。",
                    "練習在付出前，先問自己：這是我的責任嗎？",
                    "為自己設立一個享受個人奢華的儀式。",
                    "嘗試烹飪一道需要時間和愛的家庭大餐。",
                    "寫下你願意為他人奉獻的三種具體方式。",
                    "在你的日程表中，劃分出一個『自我照顧』的專屬時段。",
                    "為一位朋友或同事提供情感支持和鼓勵。", // 10
                    "練習有意識地稱讚他人的努力，而不只是結果。",
                    "學習如何有效地拒絕那些超出你能力範圍的要求。",
                    "為你的家庭建立一個應急基金或長期計畫。",
                    "將你的辦公空間佈置得更像家一樣溫馨。",
                    "進行一次深層的身體按摩或水療，照顧自己的身體。",
                    "嘗試用你的藝術天賦為他人創作一件小禮物。",
                    "為社區組織一場小型聚會或活動。",
                    "練習在他人尋求建議時，先傾聽 80%。",
                    "寫下三個你認為自己在家庭或團體中的重要價值。",
                    "今天，主動修復一個被你忽略的家庭物件。", // 20
                    "為你的健康制定一份營養均衡的飲食計畫。",
                    "練習將你的責任和義務清楚地分配給團隊成員。",
                    "避免對任何需要你幫助的人持有批判的態度。",
                    "給予一位需要幫助的人一個真誠的擁抱。",
                    "在社交場合，主動為他人分擔工作或服務。",
                    "為你的寵物或植物進行一次特別的照護。",
                    "學習如何有效地進行家庭財務管理。",
                    "在你的生活中，找到一個能讓你感到『被需要』的目標。",
                    "練習在付出時，不期待任何回報。",
                    "嘗試將你的一個缺點轉化為幫助他人的優勢。", // 30
                    "給自己購買一個新的、高品質的家居用品。",
                    "制定一份詳細的家務清單，並讓每個人都有參與感。",
                ]
            },
            7: {
                title: "智慧之泉 (The Seeker)",
                emoji: "💎",
                traits: "內省、分析、追求真理。直覺強，但可能**孤僻多疑**。",
                color: "teal",
                dailyAdvice: [
                    "給自己獨處時間思考和學習。相信你的直覺。", // 1
                    "今天適合深入研究複雜主題，尋求智慧的啟發。",
                    "遠離喧囂，沉浸在知識的海洋中，享受內在平靜。",
                    "你的分析能力很強，適合找出問題的核心。",
                    "避免分散注意力，專注於一項深度學習或研究。",
                    "今天你的直覺會非常敏銳，請信任它帶來的訊息。",
                    "適合進行寫作、閱讀哲學書籍或記錄夢境。",
                    "避免過度分析而陷入癱瘓，適時將思緒導向行動。",
                    "尋求大自然的寧靜，讓身心得到修復。",
                    "你的高標準是優勢，但也可能讓你過於苛求他人。", // 10
                    "今天適合檢查和修復任何機械或電子設備。",
                    "避免與不理解你深度思維的人進行爭論。",
                    "適合學習神秘學、科學或任何需要嚴謹邏輯的領域。",
                    "給自己一個與世隔絕的下午，進行深度內省。",
                    "你的質疑精神是寶貴的，用它來發現真相。",
                    "今天適合尋找一位導師或智慧的顧問來請教。",
                    "提醒自己：知識的獲得需要時間和耐心。",
                    "避免對他人的動機過度揣測，保持客觀。",
                    "適合整理資料庫或電腦檔案，建立清晰的系統。",
                    "你的孤獨感是成長的訊號，享受獨處時光。", // 20
                    "將一個複雜的概念用簡單的方式解釋給他人聽。",
                    "今天你的洞察力將幫助你看到事情的本質。",
                    "避免讓懷疑吞噬你的行動力，保持信念。",
                    "花時間在一個需要你高度集中精神的謎題上。",
                    "適合學習一門新語言的語法或結構。",
                    "用深藍色或銀白色的飾品來增強你的智慧光芒。",
                    "今天，你的直覺將引導你找到一個隱藏的答案。",
                    "避免在沒有確鑿證據的情況下做出結論。",
                    "適合閱讀一本與你專業領域完全不相關的深度書籍。",
                    "找到一個能讓你感到心靈平靜的場所進行思考。", // 30
                    "今天適合專注於自我完善和技能提升。",
                    "你的分析能力將為你帶來巨大的職場優勢。",
                ],
                actionAdvice: [
                    "進行深度閱讀或冥想，探索一個新的哲學概念。", // 1
                    "記錄下你的夢境和直覺閃現的念頭。",
                    "給自己一個完全獨處的夜晚，不使用社交媒體或電子產品。",
                    "提出一個需要徹底分析和驗證的假設或問題。",
                    "學習一種新的冥想或呼吸技巧，以平靜心靈。",
                    "嘗試撰寫一篇論文或深度分析報告。",
                    "找一個能讓你完全放鬆的自然環境。",
                    "在做重大決定前，列出所有正反面的論點。",
                    "花 40 分鐘研究一個你感興趣的科學難題。",
                    "為你的知識體系建立一個詳細的索引或分類系統。", // 10
                    "避免在討論時過度情緒化，堅持邏輯論證。",
                    "參與一個需要深度思考和策略規劃的遊戲。",
                    "寫下三個你對世界運作方式的深刻洞察。",
                    "練習對一個觀點保持中立，直到所有證據出現。",
                    "為自己設定一個學習新技能的長期計畫。",
                    "整理你的筆記和學習資料，去除不必要的雜亂資訊。",
                    "嘗試挑戰一個流行的迷思或普遍的觀念。",
                    "學習如何更有效地提問，以獲得更深入的答案。",
                    "給予自己時間來消化和吸收新獲得的知識。",
                    "在一天中，找出一個完全沒有聲音的時刻。", // 20
                    "練習用清晰的語言定義一個抽象的概念。",
                    "為你的電腦建立一個複雜但有邏輯的密碼。",
                    "嘗試從一個完全不同的角度來觀察你的日常生活。",
                    "記錄下你今天對人性或社會的一個新觀察。",
                    "為一個需要解決的問題繪製流程圖。",
                    "閱讀一位哲學家的主要著作或思想。",
                    "今天，將你的專注力放在一個需要高度精確的任務上。",
                    "練習在做決定前，先思考所有可能的後果。",
                    "為你的一個愛好設計一套系統化的學習方法。",
                    "尋找一位可以與你進行高質量智力辯論的夥伴。", // 30
                    "練習用一個簡單的例子來解釋複雜的理論。",
                    "為你的個人研究資料庫建立一個版本控制系統。",
                ]
            },
            8: {
                title: "力量之錘 (The Powerhouse)",
                emoji: "👑",
                traits: "權力、組織力、商業頭腦。目標遠大，可能**過於專制**。",
                color: "amber",
                dailyAdvice: [
                    "果斷地處理事業和財務問題。你的決心帶來豐盛。", // 1
                    "展現你掌控局勢的能力，適合進行大膽的商業決策。",
                    "平衡物質與精神層面，追求權力不等於專制。",
                    "今天適合制定長期投資或商業擴張計畫。",
                    "運用你的管理和組織能力來優化流程，提升效率。",
                    "避免在金錢上過於保守或過度冒險，尋求策略性平衡。",
                    "你的專業形象將為你帶來重要的商業機會。",
                    "今天適合進行談判或要求加薪。",
                    "專注於大規模的目標，不要被小細節分散注意力。",
                    "提醒自己：真正的力量來自於服務和正直。", // 10
                    "適合進行體力或耐力的挑戰，展現你的決心。",
                    "避免對下屬或合作夥伴過於苛求，給予信任。",
                    "今天適合清理積壓已久的法律或財務文件。",
                    "你的領導風範將鼓舞人心，大膽地發號施令。",
                    "適合購買能彰顯你社會地位和品味的物品。",
                    "審視你的長期目標，並毫不猶豫地排除障礙。",
                    "避免權力鬥爭，將精力集中在創造實質成果上。",
                    "今天你的判斷力非常精準，適合做決策。",
                    "與有影響力的人物建立聯繫，擴大你的網絡。",
                    "給自己一個成功的儀式，慶祝你對目標的掌控。", // 20
                    "你的企圖心是你的燃料，但別讓它燃燒過度。",
                    "今天適合將一個模糊的願景轉化為具體的商業藍圖。",
                    "避免讓物質成功成為衡量一切的唯一標準。",
                    "運用你的資源和影響力，去幫助那些需要幫助的人。",
                    "適合檢查你的資產組合，並進行必要的調整。",
                    "用金色、深紅色的飾品來強化你的權威感。",
                    "今天，你的組織能力將為你贏得廣泛的尊重。",
                    "避免與那些不尊重你時間和資源的人合作。",
                    "適合開始一個需要大量資本或權力支持的專案。",
                    "找到一個能讓你感到強大和有掌控感的場所。", // 30
                    "今天適合進行一次高風險高回報的投資決策。",
                    "你的自信和決心將是今天的最大財富。",
                ],
                actionAdvice: [
                    "審視財務計畫，並採取實際行動達成一個具體目標。", // 1
                    "在做重大決定前，寫下「最壞的結果」來輔助判斷。",
                    "主動向權威人士請教經驗，展現你的企圖心。",
                    "檢查你的資源配置，移除任何低效率的環節。",
                    "制定一個清晰的授權計畫，釋放自己的負擔。",
                    "練習在壓力下保持鎮定，展現你的權威感。",
                    "為你的下一個重大目標，建立一個詳細的里程碑清單。",
                    "投資於能提高你生產力或管理效率的工具。",
                    "練習用簡潔、有力的語氣發號施令。",
                    "審查所有未完成的商業交易或合約。", // 10
                    "給自己購買一件能提升你專業形象的服裝。",
                    "為你的下一個事業目標設計一個清晰的 Logo 或品牌形象。",
                    "進行一場高強度的體能訓練，釋放壓力。",
                    "記錄你今天最成功的商業決策背後的邏輯。",
                    "學習如何更有效地 делегировать（委派）工作。",
                    "避免將你的精力浪費在瑣碎的細節上。",
                    "為你的長期財務自由制定一個具體的數字目標。",
                    "在公開場合，練習用一個具體的成功故事來啟發他人。",
                    "與一位律師或金融專家進行一次諮詢。",
                    "為自己設定一個關於社會影響力的目標。", // 20
                    "檢查你的投資組合，移除所有表現不佳的資產。",
                    "練習在談判中保持沉默，讓對方先開口。",
                    "將你的下一個目標用金錢或權力的角度來衡量。",
                    "為你的一個商業夥伴提供一個極具價值的資源。",
                    "在一個競爭激烈的環境中，主動尋求挑戰。",
                    "學習如何有效地讀懂一份複雜的財報。",
                    "給自己一個小時，專注於規劃你的事業帝國。",
                    "在你的辦公室或家中，擺放一個代表權威的物品。",
                    "練習將一個模糊的目標轉化為可量化的指標。",
                    "今天，避免接受任何低於你價值的報酬。", // 30
                    "為你的下一個商業目標撰寫一份強而有力的宣言。",
                    "學習如何通過正直和誠實來建立長期的權威。",
                ]
            },
            9: {
                title: "宇宙之心 (The Humanitarian)",
                emoji: "🕊️",
                traits: "同情心、無私、博愛。視野廣闊，但易流於**理想化**。",
                color: "red",
                dailyAdvice: [
                    "運用大愛啟發他人。放下舊怨，服務更廣大的世界。", // 1
                    "今天適合從大局觀看待問題，展現你的寬容和博愛。",
                    "將你的能量導向更有意義的服務或公益活動。",
                    "放下過去的包袱，用寬廣的心胸去迎接新的開始。",
                    "今天是放下遺憾、完成未竟之事的最佳時機。",
                    "避免在小事上斤斤計較，保持宏觀的視野。",
                    "你的慈悲心將為你吸引到強大的盟友和支持者。",
                    "適合將你的經驗和智慧傳授給下一代。",
                    "今天適合進行慈善捐款或參與志願服務。",
                    "提醒自己：無私的付出，最終受益的是自己。", // 10
                    "適合結束一段不再健康的關係或習慣。",
                    "避免因為過度理想化而對現實感到失望。",
                    "運用你的創意和情感深度來創作有啟發性的作品。",
                    "給予他人無條件的寬恕和理解。",
                    "今天適合與來自不同文化或背景的人交流。",
                    "你的光芒在於服務，尋找一個能讓你奉獻的目標。",
                    "避免因為過度感性而做出不理性的決定。",
                    "今天適合規劃一次長途旅行或學習外國文化。",
                    "將你的視野從個人擴展到全球，思考世界需要什麼。",
                    "適合進行深度反思，確定你的人生使命。", // 20
                    "你的愛與智慧是宇宙給予的禮物，與世界分享。",
                    "避免讓自己成為受害者，承擔起改變世界的責任。",
                    "今天適合將你的能量用於倡導公平與正義。",
                    "清理你的生活空間，象徵性地釋放舊的能量和煩惱。",
                    "適合與一位長者進行一次富有啟發性的對話。",
                    "用紅色、金色或白色飾品來強化你的博愛精神。",
                    "今天你的同理心將成為你解決衝突的工具。",
                    "避免對任何個人問題過度糾結，將目光投向大局。",
                    "適合開始一個與教育或人道援助相關的專案。",
                    "找到一個能讓你感到與全體生命相連的時刻。", // 30
                    "今天適合將你的故事轉化為鼓勵人心的力量。",
                    "提醒自己：完成比完美更重要，以便開啟新的循環。",
                ],
                actionAdvice: [
                    "完成一個舊計畫以清理空間，思考如何為社區貢圖。", // 1
                    "寫信給一位影響你的人，表達感謝和寬恕。",
                    "練習從另一個角度看問題，避免過度理想化。",
                    "花時間獨處，思考你的人生使命和更高目標。",
                    "整理你的衣物或書籍，捐贈給需要的人。",
                    "原諒一個曾經傷害你的人，釋放內心的負面情緒。",
                    "制定一個長期為社會貢獻的目標和行動計畫。",
                    "閱讀關於人道主義和全球議題的書籍。",
                    "為一個你關心的慈善機構制定募款策略。",
                    "嘗試撰寫一篇關於全球和平的短文。", // 10
                    "練習冥想，將你的愛心擴散到身邊的每一個人。",
                    "將一個長期目標分解成幾個具有社會效益的里程碑。",
                    "為你的生活空間添加一件來自不同文化的藝術品。",
                    "避免批判，轉而尋求理解他人的動機。",
                    "今天，主動向一位你認識的異鄉人表達善意。",
                    "學習如何有效地進行跨文化交流和理解。",
                    "在你的工作中，尋找一個能服務更廣大群體的方法。",
                    "寫下三個你希望世界能有所改善的具體領域。",
                    "練習在付出後，完全放下對結果的期待。",
                    "給自己一個時間來反思你的個人成長旅程。", // 20
                    "為你的下一次長途旅行設定一個『服務』的主題。",
                    "在日常對話中，有意識地使用更具包容性的語言。",
                    "避免讓你的情緒影響你對宏觀事物的判斷。",
                    "今天，試著與一位你意見不同的人找到共同點。",
                    "為你的遺產規劃或人生總結寫下初步的想法。",
                    "尋找能讓你感到心靈震撼的音樂或電影。",
                    "練習將你個人的痛苦轉化為對他人的同情心。",
                    "在你的社交圈中，推動一項具有積極意義的改變。",
                    "給自己一個小時，專注於無私奉獻的行為。",
                    "今天，嘗試去理解一個你過去無法接受的觀點。", // 30
                    "為你的目標設定一個『最終完成』的慶祝儀式。",
                    "寫下你認為你的人生使命中最核心的三個詞語。",
                ]
            },
        };

        const resultNumberEl = document.getElementById('result-number');
        const resultEmojiEl = document.getElementById('result-emoji'); // 新增的 Emoji 元素
        const traitsTitleEl = document.getElementById('traits-title');
        const traitsTextEl = document.getElementById('traits-text');
        const dailyAdviceTextEl = document.getElementById('daily-advice-text');
        const actionAdviceTextEl = document.getElementById('action-advice-text');
        const traitsBoxEl = document.getElementById('traits-box');
        const dailyBoxEl = document.getElementById('daily-box');
        const actionBoxEl = document.getElementById('action-box');
        const resultContainerEl = document.getElementById('resultContainer');
        const inputYear = document.getElementById('inputYear');
        const inputMonth = document.getElementById('inputMonth');
        const inputDay = document.getElementById('inputDay');
        const calculateButton = document.getElementById('calculateButton');
        const errorMsgEl = document.getElementById('error-message');
        const numberButtonsContainer = document.getElementById('number-buttons');
        let currentLifePathNumber = null;

        // 輔助函數：清除所有 Tailwind 邊框顏色類
        function removeBorderColors(element) {
            const colors = ["rose", "sky", "pink", "indigo", "violet", "fuchsia", "teal", "amber", "red"];
            colors.forEach(color => {
                element.classList.remove(`border-${color}-500`);
            });
        }

        // 根據數字更新 UI 內容
        function displayResult(number) {
            const data = NumerologyData[number];
            if (!data) return;
            
            const colorClass = `border-${data.color}-500`;

            // 更新主要結果 (數字 + Emoji)
            resultEmojiEl.textContent = data.emoji; // 設置 Emoji
            resultNumberEl.textContent = number;
            
            // 更新分析內容
            traitsTitleEl.textContent = number + " - " + data.title;
            traitsTextEl.textContent = data.traits;
            
            // 這裡使用更新後的 `getDailyAdvice` 函數，確保月內不重複
            dailyAdviceTextEl.textContent = getDailyAdvice(number, data.dailyAdvice);
            actionAdviceTextEl.textContent = getDailyAdvice(number, data.actionAdvice);

            // 調整顏色強調 (魔法寶石光暈)
            removeBorderColors(resultNumberEl.parentElement);
            resultNumberEl.parentElement.classList.add(colorClass);

            removeBorderColors(traitsBoxEl);
            traitsBoxEl.classList.add(colorClass);

            removeBorderColors(dailyBoxEl);
            dailyBoxEl.classList.add(colorClass);

            removeBorderColors(actionBoxEl);
            actionBoxEl.classList.add(colorClass);
            
            // 更新數字按鈕的 active 狀態
            document.querySelectorAll('.num-btn').forEach(btn => {
                btn.classList.remove('active-num', 'bg-violet-400', 'border-violet-600');
                btn.classList.add('bg-slate-700/50', 'border-purple-800');
                if (parseInt(btn.textContent) === number) {
                    btn.classList.add('active-num', 'bg-violet-400', 'border-violet-600');
                    btn.classList.remove('bg-slate-700/50', 'border-purple-800');
                }
            });

            // 顯示結果區塊
            resultContainerEl.classList.remove('hidden');
        }

        // 初始化數字按鈕 (1-9)
        function initializeButtons() {
            for (let i = 1; i <= 9; i++) {
                const button = document.createElement('button');
                button.textContent = i;
                button.className = 'num-btn p-3 rounded-lg border-2 bg-slate-700/50 border-purple-800 text-lg font-medium text-slate-200 hover:bg-slate-700';
                button.addEventListener('click', () => {
                    displayResult(i);
                });
                numberButtonsContainer.appendChild(button);
            }
        }

        // 計算按鈕事件處理器
        calculateButton.addEventListener('click', () => {
            errorMsgEl.classList.add('hidden');
            
            const year = inputYear.value.trim();
            const month = inputMonth.value.trim();
            const day = inputDay.value.trim();

            if (!year || !month || !day || isNaN(year) || isNaN(month) || isNaN(day)) {
                errorMsgEl.textContent = "請確保年份、月份和日期都已填寫並為數字。";
                errorMsgEl.classList.remove('hidden');
                return;
            }

            const fullDateString = year + month + day;
            currentLifePathNumber = calculateLifePathNumber(fullDateString);

            if (currentLifePathNumber >= 1 && currentLifePathNumber <= 9) {
                displayResult(currentLifePathNumber);
            } else {
                errorMsgEl.textContent = "計算結果無效，請檢查輸入的日期是否合理。";
                errorMsgEl.classList.remove('hidden');
            }
        });

        // 頁面加載完成後初始化
        document.addEventListener('DOMContentLoaded', initializeButtons);
    </script>

</body>
</html>

